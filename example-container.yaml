# Example container configuration for pxrun
# Based on your interactive session

container:
  vmid: 1250
  hostname: testlxc
  node: c137
  template: "c137-isos:vztmpl/debian-13-standard_13.1-1_amd64.tar.zst"

  # Resources
  cores: 2
  memory: 1024  # MB
  storage: 10   # GB
  storage_pool: nvmeu2-vmstore

  # Network
  network_bridge: vmbr0
  network_ip: dhcp  # or specific IP like "192.168.1.100/24"
  # network_gateway: "192.168.1.1"  # only needed for static IP

  # Container options
  start_on_boot: false

# Post-creation provisioning
provisioning:
  # SSH key will be read from SSH_KEY_PATH env var if not specified
  # ssh_keys:
  #   - "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIAbc123... user@host"

  # Additional packages to install
  packages: []
  # packages:
  #   - htop
  #   - vim
  #   - curl

  # Install Docker
  docker: true

  # Tailscale configuration (multiple options)
  
  # Option 1: Simple - Auto-generates auth key if API credentials are available
  tailscale:
    provision: true
    ephemeral: false  # Set to true for one-time use containers

  # Option 2: With custom settings and auto-generated key
  # tailscale:
  #   hostname: "my-container"  # Optional custom hostname
  #   accept_routes: true        # Optional route settings
  
  # Option 3: Explicit auth key from environment (fallback if no API creds)
  # tailscale:
  #   auth_key: "${TAILSCALE_AUTH_KEY}"  # Uses env var
  
  # Option 4: Hardcoded auth key (not recommended)
  # tailscale:
  #   auth_key: "tskey-auth-..."

  # Custom scripts (optional)
  # scripts:
  #   - name: "custom-setup"
  #     content: |
  #       #!/bin/bash
  #       echo "Custom setup script"
  #       # Your commands here